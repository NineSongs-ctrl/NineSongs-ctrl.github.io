<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Doug Ford Promise Tracker</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnH/PRWJOp5jhyYx/fN6KX0N3o5QJLLHk67L1c16/3/wt8Ly/QnVnC25HNTy7xVO+fYhzCUKg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- Chart.js for Pie Chart -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --primary: #1a73e8; /* Modern blue */
      --secondary: #f5f6f5; /* Light background */
      --text-dark: #333;
      --text-light: #666;
      --shadow: rgba(0, 0, 0, 0.1);
      --status-kept: #34c759;
      --status-in-progress: #ff9500;
      --status-not-started: #ff3b30;
      --status-broken: #d81b60;
    }

    /* Reset and Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Roboto', sans-serif;
      background: var(--secondary);
      color: var(--text-dark);
      line-height: 1.6;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Header */
    header {
      background: var(--primary);
      color: #fff;
      padding: 40px 0;
      text-align: center;
      box-shadow: 0 2px 10px var(--shadow);
    }
    header h1 {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      margin-bottom: 10px;
    }
    header p {
      font-size: 1.2rem;
    }

    /* Stats Row */
    .stats-row {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      background: #fff;
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
      box-shadow: 0 2px 5px var(--shadow);
    }
    .stats-item {
      text-align: center;
      padding: 10px;
      flex: 1;
      min-width: 150px;
    }
    .stats-item h3 {
      font-size: 1.1rem;
      margin-bottom: 5px;
    }
    .stats-item span {
      font-size: 1.5rem;
      font-weight: 500;
    }
    .stats-chart {
      max-width: 200px;
      margin: 0 auto;
    }

    /* Filter Controls */
    .filter-controls {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin: 20px 0;
      align-items: center;
    }
    .filter-controls input {
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      flex: 1;
      min-width: 200px;
    }
    .filter-controls select {
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      min-width: 150px;
    }
    .status-filter {
      display: flex;
      gap: 10px;
    }
    .status-btn {
      padding: 8px 15px;
      border: none;
      border-radius: 5px;
      background: #e0e0e0;
      cursor: pointer;
      transition: background 0.3s;
    }
    .status-btn.active, .status-btn:hover {
      background: var(--primary);
      color: #fff;
    }

    /* Promise List */
    .promise-list {
      display: grid;
      gap: 15px;
    }
    .promise-item {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 5px var(--shadow);
      transition: all 0.3s ease;
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      align-items: center;
    }
    .promise-item:hover {
      box-shadow: 0 4px 10px var(--shadow);
      transform: translateY(-2px);
    }
    .promise-status {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      flex-shrink: 0;
    }
    .promise-status.kept { background: var(--status-kept); }
    .promise-status.in-progress { background: var(--status-in-progress); }
    .promise-status.not-started { background: var(--status-not-started); }
    .promise-status.broken { background: var(--status-broken); }
    .promise-text {
      flex: 2;
      min-width: 200px;
    }
    .promise-text p {
      font-size: 1rem;
    }
    .promise-details-link {
      flex: 1;
      text-align: right;
    }
    .promise-details-link a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 500;
    }
    .promise-details-link a:hover {
      text-decoration: underline;
    }
    .promise-details {
      display: none;
      width: 100%;
      padding: 15px;
      background: #f9f9f9;
      border-radius: 5px;
      margin-top: 10px;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .stats-row { flex-direction: column; }
      .filter-controls { flex-direction: column; }
      .promise-item { flex-direction: column; text-align: center; }
      .promise-details-link { text-align: center; }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container">
      <h1>Doug Ford â€“ Premier of Ontario</h1>
      <p>Tracking Promises from the Progressive Conservative Party of Ontario</p>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container">
    <!-- Stats Row -->
    <div class="stats-row">
      <div class="stats-item">
        <h3 style="color: var(--status-kept);">Kept</h3>
        <span id="kept-count">0</span>
      </div>
      <div class="stats-item">
        <h3 style="color: var(--status-in-progress);">In Progress</h3>
        <span id="in-progress-count">0</span>
      </div>
      <div class="stats-item">
        <h3 style="color: var(--status-not-started);">Not Started</h3>
        <span id="not-started-count">0</span>
      </div>
      <div class="stats-item">
        <h3 style="color: var(--status-broken);">Broken</h3>
        <span id="broken-count">0</span>
      </div>
      <div class="stats-chart">
        <canvas id="status-chart"></canvas>
      </div>
    </div>

    <!-- Filter Controls -->
    <div class="filter-controls">
      <input type="text" placeholder="Search promises..." aria-label="Search promises">
      <div class="status-filter">
        <button class="status-btn active" data-filter="all">All</button>
        <button class="status-btn" data-filter="kept">Kept</button>
        <button class="status-btn" data-filter="in-progress">In Progress</button>
        <button class="status-btn" data-filter="not-started">Not Started</button>
        <button class="status-btn" data-filter="broken">Broken</button>
      </div>
      <select aria-label="Sort by">
        <option value="date">Sort by Date</option>
        <option value="text">Sort by Promise Text</option>
      </select>
    </div>

    <!-- Promise List -->
    <div class="promise-list" id="promise-list">
      <div class="promise-item" data-status="kept">
        <div class="promise-status kept">
          <i class="fa fa-check-circle"></i>
        </div>
        <div class="promise-text">
          <p>Invest $1 billion over the next three years to boost skilled trades.</p>
        </div>
        <div class="promise-details-link">
          <a href="#" onclick="toggleDetails(this); return false;">Details</a>
        </div>
        <div class="promise-details">
          <p>Announced in 2022, this promise has been implemented with funding allocated to trade schools across Ontario. [Source: Ontario Government]</p>
        </div>
      </div>
      <!-- Add more promise items as needed -->
      <div class="promise-item" data-status="in-progress">
        <div class="promise-status in-progress">
          <i class="fa fa-clock"></i>
        </div>
        <div class="promise-text">
          <p>Reduce wait times in hospitals by increasing healthcare funding.</p>
        </div>
        <div class="promise-details-link">
          <a href="#" onclick="toggleDetails(this); return false;">Details</a>
        </div>
        <div class="promise-details">
          <p>Progress reported in 2023 with $500 million allocated; full implementation pending. [Source: Health Ministry]</p>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Real-time Search
    document.querySelector('.filter-controls input').addEventListener('input', function(e) {
      const searchTerm = e.target.value.toLowerCase();
      document.querySelectorAll('.promise-item').forEach(item => {
        const text = item.querySelector('.promise-text p').textContent.toLowerCase();
        item.style.display = text.includes(searchTerm) ? '' : 'none';
      });
      updateStats();
    });

    // Status Filter Buttons
    document.querySelectorAll('.status-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.status-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        const filter = this.dataset.filter;
        document.querySelectorAll('.promise-item').forEach(item => {
          item.style.display = (filter === 'all' || item.dataset.status === filter) ? '' : 'none';
        });
        updateStats();
      });
    });

    // Toggle Details
    function toggleDetails(link) {
      const item = link.closest('.promise-item');
      const details = item.querySelector('.promise-details');
      if (details.style.display === 'block') {
        details.style.display = 'none';
        link.textContent = 'Details';
      } else {
        details.style.display = 'block';
        link.textContent = 'Hide';
      }
    }

    // Update Stats and Chart
    function updateStats() {
      const items = document.querySelectorAll('.promise-item');
      const visibleItems = Array.from(items).filter(item => item.style.display !== 'none');
      const total = visibleItems.length;
      const kept = visibleItems.filter(item => item.dataset.status === 'kept').length;
      const inProgress = visibleItems.filter(item => item.dataset.status === 'in-progress').length;
      const notStarted = visibleItems.filter(item => item.dataset.status === 'not-started').length;
      const broken = visibleItems.filter(item => item.dataset.status === 'broken').length;

      document.getElementById('kept-count').textContent = kept;
      document.getElementById('in-progress-count').textContent = inProgress;
      document.getElementById('not-started-count').textContent = notStarted;
      document.getElementById('broken-count').textContent = broken;

      statusChart.data.datasets[0].data = [kept, inProgress, notStarted, broken];
      statusChart.update();
    }

    // Pie Chart Initialization
    const ctx = document.getElementById('status-chart').getContext('2d');
    const statusChart = new Chart(ctx, {
      type: 'pie',
      data: {
        labels: ['Kept', 'In Progress', 'Not Started', 'Broken'],
        datasets: [{
          data: [0, 0, 0, 0],
          backgroundColor: [
            'var(--status-kept)',
            'var(--status-in-progress)',
            'var(--status-not-started)',
            'var(--status-broken)'
          ],
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { display: false },
        }
      }
    });

    // Initial Stats Update
    updateStats();
  </script>
</body>
</html>
